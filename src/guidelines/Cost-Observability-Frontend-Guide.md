# 💰 Cost Observability 프론트엔드 가이드

## 📍 어디서 확인할 수 있나요?

REX의 Cost Observability 기능은 **5곳**에서 확인하고 관리할 수 있습니다:

---

## 1️⃣ 대시보드 (메인 페이지)

**경로:** 좌측 메뉴 → 대시보드  
**URL:** `/` (Home)

### 빠른 비용 요약 카드

대시보드 상단의 **Key Metrics** 섹션에서 **"이번 달 비용"** 카드를 확인할 수 있습니다.

```
┌─────────────────────────────┐
│  💵 이번 달 비용             │
│  $1,847                     │
│  📈 예산 92.4% 사용          │
└─────────────────────────────┘
```

**기능:**
- 현재 월간 총 비용 표시
- 예산 사용률 실시간 표시
- **클릭 시 → 비용 대시보드로 이동** ✨

**구현 위치:**
- `/components/DashboardPageBlue.tsx` (Line 276-338)
- 5번째 Key Metrics 카드 (새로 추가됨)

---

## 2️⃣ 비용 대시보드 (전용 페이지)

**경로:** 좌측 메뉴 → 💵 비용 대시보드  
**URL:** `/costs`

### 전체 비용 관리 허브

비용 대시보드는 **완전한 Cost Observability 솔루션**을 제공합니다.

#### 📊 핵심 지표 (상단 4개 카드)

```
┌───────────────┬───────────────┬───────────────┬───────────────┐
│ 총 비용       │ 평가 횟수     │ QA 처리량     │ 평균 비용     │
│ $1,847.32     │ 45개          │ 6,750개       │ $41.05/평가   │
│ +12.5% ↑      │ +15% ↑        │ +8.3% ↑       │ -5.2% ↓       │
└───────────────┴───────────────┴───────────────┴───────────────┘
```

#### 🎯 예산 관리

```
월간 평가 예산
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 92.4%
$1,847.32 / $2,000.00

⚠️ 경고: 예산의 92.4%를 사용했습니다
```

- 예산별 사용률 실시간 추적
- 임계값 알림 (50%, 80%, 95%)
- Hard Limit / Soft Limit 설정

#### 📈 비용 분석 차트

1. **비용 추이** (시계열)
   - 지난 7일간 일별 비용
   - 트렌드 분석

2. **LLM 제공사별 비용**
   ```
   OpenAI (GPT-4o)           $1,142.45  (61.8%)
   Anthropic (Claude-3.5)    $542.87    (29.4%)
   OpenAI (GPT-4o-mini)      $162.00    (8.8%)
   ```

3. **지표별 비용**
   ```
   Faithfulness              $423.12    (22.9%)
   Answer Relevancy          $389.45    (21.1%)
   Answer Correctness        $356.78    (19.3%)
   Context Precision         $234.56    (12.7%)
   ...
   ```

#### 💡 비용 최적화 제안

```
✅ 샘플링 전략 활성화
   30% 샘플만 평가 → 70% 비용 절감 ($1,293.12 절약)
   정확도 영향: -5% (신뢰구간 ±2%)

✅ 필수 지표만 선택
   12개 → 6개 지표 → 50% 비용 절감 ($923.66 절약)

✅ GPT-4o → GPT-4o-mini 전환
   60% 비용 절감 ($685.47 절약)
   정확도 영향: -3%

✅ 평가 결과 캐싱
   동일 질문 재평가 시 캐시 사용 → 20% 비용 절감
```

#### 🔔 비용 알림

실시간 알림 배너:
```
⚠️ 비용 알림
월간 평가 예산의 92.4%를 사용했습니다
오늘 비용이 평균보다 20% 높습니다
                                [모두 보기 →]
```

**구현 위치:**
- `/components/CostDashboardPageBlue.tsx`
- 완전한 대시보드 구현 (Mock 데이터 사용 중)

---

## 3️⃣ 평가 생성 시 (비용 예측)

**경로:** 좌측 메뉴 → ⚡ 평가 시작  
**URL:** `/new-evaluation`

### 평가 전 비용 예측

평가를 시작하기 전에 **예상 비용을 미리 확인**할 수 있습니다.

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
평가 설정 요약
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 데이터셋: 고객 지원 QA (150개)
🎯 지표: Faithfulness, Answer Relevancy, Context Precision
🤖 LLM Judge: GPT-4o

💰 예상 비용: $42.35
   - 평균 $0.28 / QA
   - 예산 사용률: 94.5% (⚠️ 경고)

⚠️ 예산 경고
월간 평가 예산의 94.5%를 초과할 예정입니다.
계속 진행하시겠습니까?

[예산 늘리기]  [설정 변경]  [진행]
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**기능:**
- 평가 전 비용 자동 계산
- 예산 초과 경고
- Hard Limit 시 평가 차단
- 대안 제안 (샘플링, 모델 변경)

**구현 예정 위치:**
- `/components/NewEvaluationPageBlue.tsx`
- "평가 시작" 버튼 위에 비용 예측 섹션 추가

---

## 4️⃣ 평가 결과 페이지 (실제 비용)

**경로:** 평가 완료 후 → 평가 결과  
**URL:** `/results`

### 실제 소요된 비용 표시

평가가 완료되면 **실제로 발생한 비용**을 상세하게 확인할 수 있습니다.

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
평가 결과 - "고객 지원 QA 평가"
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 완료 시간: 2분 34초
📊 처리된 QA: 150개

💰 비용 정보
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
총 비용:        $43.67
평균 비용/QA:   $0.29
예상 대비:      +3.1% ($1.32 추가)

🔢 토큰 사용량
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
입력 토큰:      245,600
출력 토큰:      48,900
캐시 토큰:      12,300 (할인 적용)

📊 지표별 비용 분석
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Faithfulness         $12.45  (28.5%)  - 450 API 호출
Answer Relevancy     $11.23  (25.7%)  - 450 API 호출
Context Precision    $9.87   (22.6%)  - 450 API 호출
Context Recall       $6.34   (14.5%)  - 450 API 호출
Others               $3.78   (8.7%)   - 300 API 호출

[비용 대시보드 보기]  [최적화 제안 보기]
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**구현 예정 위치:**
- `/components/ResultsPageBlue.tsx`
- 평가 결과 상단에 비용 섹션 추가

---

## 4️⃣ 예산 설정 페이지

**경로:** 비용 대시보드 → 예산 설정 버튼  
**URL:** `/budget-settings`

### 예산 관리 전용 페이지

프로젝트, 조직, 사용자별 예산을 생성하고 관리할 수 있는 전용 페이지입니다.

#### 📊 예산 상태 통계 (상단 4개 카드)

```
┌─────────────┬─────────────┬─────────────┬─────────────┐
│ 등록된 예산 │ 정상 범위   │ 주의 필요   │ 위험        │
│ 3개         │ 1개         │ 1개         │ 1개         │
│             │ < 80%       │ 80-95%      │ ≥ 95%       │
└─────────────┴─────────────┴─────────────┴─────────────┘
```

**각 항목 설명:**

| 항목 | 의미 | 기준 | 조치 필요도 |
|------|------|------|------------|
| **등록된 예산** | 시스템에 등록된 총 예산 항목 수 | - | - |
| **정상 범위** | 안정적으로 운영 중인 예산 | 사용률 < 80% | ✅ 모니터링만 필요 |
| **주의 필요** | 예산 초과 위험이 있는 예산 | 사용률 80% ~ 95% | ⚠️ 주의 깊은 모니터링 필요 |
| **위험** | 즉시 조치가 필요한 예산 | 사용률 ≥ 95% | 🚨 즉시 조치 필요 |

#### 📋 예산 상태 분류 기준

REX는 예산 사용률에 따라 예산을 3가지 상태로 분류합니다:

##### 🟢 정상 범위 (Normal)
- **기준:** 예산 사용률 < 80%
- **의미:** 예산이 안정적으로 관리되고 있는 상태
- **알림:** 알림 없음 (임계값 미도달)
- **조치:** 정기적인 모니터링만 수행
- **예시:** 월간 예산 $2,000 중 $1,200 사용 (60%)

##### 🟠 주의 필요 (Warning)
- **기준:** 80% ≤ 예산 사용률 < 95%
- **의미:** 예산 초과 위험이 있어 주의가 필요한 상태
- **알림:** 80% 임계값 도달 시 경고 알림 발송
- **조치:** 
  - 비용 사용 패턴 분석
  - 예산 증액 검토
  - 평가 일정 조정 고려
  - 최적화 제안 검토
- **예시:** 월간 예산 $2,000 중 $1,700 사용 (85%)

##### 🔴 위험 (Critical)
- **기준:** 예산 사용률 ≥ 95%
- **의미:** 예산이 거의 소진되어 즉시 조치가 필요한 상태
- **알림:** 95% 임계값 도달 시 긴급 알림 발송
- **조치:**
  - **즉시** 예산 증액 또는 평가 중단
  - 강제 제한(Hard Limit) 설정 시 자동으로 평가 중단
  - 긴급 예산 승인 프로세스 진행
- **예시:** 월간 예산 $2,000 중 $1,950 사용 (97.5%)
- **⚠️ 중요:** 강제 제한이 활성화된 예산의 경우, 100% 도달 시 모든 평가가 자동 중단됩니다.

#### 🎛️ 예산 설정 옵션

##### 예산 타입
- **조직 (Organization):** 전체 조직의 통합 예산
- **프로젝트 (Project):** 특정 프로젝트별 예산
- **사용자 (User):** 개별 사용자별 예산

##### 적용 기간
- **일간 (Daily):** 매일 자정에 리셋
- **주간 (Weekly):** 매주 월요일 자정에 리셋
- **월간 (Monthly):** 매월 1일 자정에 리셋
- **연간 (Yearly):** 매년 1월 1일 자정에 리셋

##### 알림 임계값 (Alert Thresholds)
- 예산의 특정 비율 도달 시 알림 발송
- 기본값: 50%, 80%, 95%
- 사용자 정의 가능 (0-100%)
- 각 임계값 도달 시 등록된 이메일로 알림 전송

##### 강제 제한 (Hard Limit)
- **비활성화 (Soft Limit):** 예산 초과 시 알림만 발송, 평가는 계속 진행
- **활성화 (Hard Limit):** 예산 100% 도달 시 자동으로 모든 평가 중단
- **권장 사용:**
  - 테스트 환경: Soft Limit (유연성 중시)
  - 프로덕션 환경: Hard Limit (비용 통제 중시)
  - 제한된 예산: Hard Limit (예산 초과 방지)

**구현 위치:**
- `/components/BudgetSettingsPageBlue.tsx`
- 비용 대시보드에서 "예산 설정" 버튼 클릭 시 이동

---

## 5️⃣ 비용 알림 전체 보기 페이지

**경로:** 비용 대시보드 → 알림 배너 → 모두 보기  
**URL:** `/cost-alerts`

### 비용 알림 이력 관리

모든 비용 알림을 조회하고 관리할 수 있는 전용 페이지입니다.

#### 📊 알림 통계 (상단 5개 카드)

```
┌──────────┬──────────┬──────────┬──────────┬──────────┐
│ 전체알림 │ 미확인   │ 위험     │ 경고     │ 정보     │
│ 7개      │ 3개      │ 2개      │ 3개      │ 2개      │
└──────────┴──────────┴──────────┴──────────┴──────────┘
```

#### 📊 알림 통계 상세 설명

| 항목 | 의미 | 설명 |
|------|------|------|
| **전체 알림** | 시스템에서 발생한 모든 비용 알림 총 개수 | 확인됨/미확인 알림을 모두 포함 |
| **미확인** | 아직 확인하지 않은 알림 개수 | 대시보드 상단 알림 배너로 표시되며 조치 필요 |
| **위험** | 심각도 Critical 알림 | 예산 95% 이상 사용, 즉시 조치 필요 |
| **경고** | 심각도 Warning 알림 | 예산 80% 도달, 주의 필요 |
| **정보** | 심각도 Info 알림 | 예산 50% 도달 등 참고용 알림 |

#### 🚨 알림 심각도 분류 기준

REX는 알림을 3단계 심각도로 분류하여 관리합니다:

##### 🔵 정보 (Info)
- **발생 조건:**
  - 예산의 50% 임계값 도달
  - 첫 번째 알림 임계값 도달
  - 일반적인 예산 사용 알림
- **조치 수준:** 참고 및 모니터링
- **예시:**
  - "월간 평가 예산의 50%를 사용했습니다"
  - "Auto-Improve 프로젝트 예산이 정상 범위에서 운영 중입니다"

##### 🟠 경고 (Warning)
- **발생 조건:**
  - 예산의 80% 임계값 도달
  - 일일 비용이 평균 대비 20% 이상 급증
  - 예산 초과 위험 감지
- **조치 수준:** 주의 깊은 모니터링 및 최적화 검토
- **예시:**
  - "월간 평가 예산의 85%를 사용했습니다"
  - "오늘 비용이 평균보다 20% 높습니다"
- **권장 조치:**
  - 비용 사용 패턴 분석
  - 최적화 제안 검토
  - 예산 증액 또는 평가 일정 조정 검토

##### 🔴 위험 (Critical)
- **발생 조건:**
  - 예산의 95% 이상 사용
  - Hard Limit 설정 예산이 100% 도달
  - 예산 소진 임박
- **조치 수준:** 즉시 조치 필수
- **예시:**
  - "월간 평가 예산의 98%를 사용했습니다"
  - "Q4 마케팅 평가 예산이 100%에 도달했습니다 (평가 중단됨)"
- **권장 조치:**
  - **즉시** 예산 증액 또는 평가 중단
  - 긴급 예산 승인 프로세스 진행
  - Hard Limit 설정 시 자동 평가 중단 확인

#### 🔔 알림 유형

##### threshold_exceeded (임계값 초과)
- **설명:** 설정한 알림 임계값 (50%, 80%, 95%)에 도달
- **심각도:** 임계값에 따라 자동 분류
  - 50% → Info
  - 80% → Warning
  - 95% → Critical
- **알림 주기:** 임계값 도달 시 1회 발송

##### daily_spike (일일 비용 급증)
- **설명:** 하루 비용이 평균 대비 20% 이상 증가
- **심각도:** Warning
- **알림 주기:** 매일 자정 집계 후 발송
- **예시:** "어제 비용 $378 (평균 $280 대비 35% 증가)"

##### approaching_limit (예산 한계 근접)
- **설명:** 예산의 95% 이상 사용
- **심각도:** Critical
- **알림 주기:** 95% 도달 시 1회, 이후 매일 발송
- **특이사항:** Hard Limit 설정 시 경고 강조

##### hard_limit_reached (강제 제한 도달)
- **설명:** Hard Limit이 설정된 예산이 100% 도달
- **심각도:** Critical
- **결과:** 모든 평가가 자동으로 중단됨
- **복구:** 예산 증액 후 수동으로 평가 재개 필요

#### 🎯 알림 관리 기능

- **필터링:** 
  - 심각도별: Info / Warning / Critical
  - 상태별: 미확인 / 확인됨
  - 날짜 범위별
- **검색:** 알림 메시지 또는 예산 이름으로 검색
- **알림 확인:** 
  - 개별 확인: 각 알림의 체크 버튼 클릭
  - 일괄 확인: "모두 확인" 버튼 클릭
- **알림 삭제:** 불필요한 알림 제거 (이력 추적을 위해 보관 권장)

**구현 위치:**
- `/components/CostAlertsPageBlue.tsx`
- 비용 대시보드의 알림 배너에서 "모두 보기" 클릭 시 이동

---

## 🛠️ 백엔드 API 연결 상태

### 현재 상태

✅ **프론트엔드 완료**
- `/components/CostDashboardPageBlue.tsx` - 완전 구현 (Mock 데이터)
- `/lib/api-client.ts` - API 클라이언트 준비됨
- `/types/index.ts` - TypeScript 타입 정의 완료

⏳ **백엔드 연동 대기 중**
- API 엔드포인트 구현 필요
- PostgreSQL 데이터베이스 스키마 구현 필요

### API 엔드포인트

프론트엔드에서 호출할 준비가 된 API:

```typescript
// 비용 요약
GET /api/v1/costs/summary?period=month
→ { total_cost, total_evaluations, total_qa, avg_cost_per_qa, ... }

// 평가별 비용
GET /api/v1/costs/evaluations/:id
→ { evaluation_id, total_cost, token_usage, metric_costs, ... }

// 비용 예측
POST /api/v1/costs/predict
→ { estimated_cost, breakdown, budget_check, ... }

// 예산 관리
GET /api/v1/budgets
POST /api/v1/budgets
PUT /api/v1/budgets/:id
DELETE /api/v1/budgets/:id

// 비용 알림
GET /api/v1/budgets/alerts
POST /api/v1/budgets/alerts/:id/acknowledge

// 최적화 제안
GET /api/v1/costs/optimizations/:evaluation_id
```

---

## 🎯 사용 시나리오

### 시나리오 1: 일반 사용자 - 비용 확인

1. **대시보드 진입**
   - 로그인 후 첫 화면에서 "이번 달 비용" 카드 확인
   - 예: "$1,847 (예산 92.4% 사용)"

2. **비용 대시보드 이동**
   - 비용 카드 클릭 또는 좌측 메뉴에서 "비용 대시보드" 선택
   - 상세 비용 분석 확인

3. **최적화 제안 확인**
   - "비용 최적화 제안" 섹션에서 권장 사항 확인
   - 예: "샘플링 전략으로 70% 절감 가능"

### 시나리오 2: 관리자 - 예산 설정

1. **비용 대시보드 진입**
   - 좌측 메뉴 → 비용 대시보드

2. **예산 설정 버튼 클릭**
   - 우측 상단 "⚙️ 예산 설정" 버튼

3. **예산 생성**
   ```
   예산 이름: 월간 평가 예산
   기간: 월간
   한도: $2,000
   임계값: 50%, 80%, 95%
   Hard Limit: ☐ (선택 안 함)
   ```

4. **알림 설정**
   - 이메일 수신자 추가
   - Slack 채널 연결

### 시나리오 3: 평가 생성 전 비용 체크

1. **평가 시작 페이지**
   - 좌측 메뉴 → ⚡ 평가 시작

2. **설정 입력**
   - 데이터셋 선택: "고객 지원 QA (150개)"
   - 지표 선택: Faithfulness, Answer Relevancy
   - LLM Judge: GPT-4o

3. **비용 예측 자동 표시**
   ```
   💰 예상 비용: $42.35
   ⚠️ 예산 94.5% 사용 예정
   ```

4. **예산 초과 시**
   - 경고 메시지 표시
   - 대안 제안:
     - 샘플 크기 줄이기 (100개로 → $28.23)
     - GPT-4o-mini 사용 → $16.94
     - 일부 지표 비활성화

5. **평가 시작 또는 설정 변경**

### 시나리오 4: 평가 완료 후 실제 비용 확인

1. **평가 진행**
   - 실시간 모니터링 페이지에서 진행 상황 확인

2. **평가 완료**
   - 자동으로 결과 페이지로 이동

3. **비용 정보 확인**
   ```
   총 비용: $43.67 (예상: $42.35, +3.1%)
   
   지표별 비용:
   - Faithfulness: $12.45
   - Answer Relevancy: $11.23
   - ...
   
   토큰 사용량:
   - 입력: 245,600
   - 출력: 48,900
   - 캐시: 12,300 (할인 적용)
   ```

4. **최적화 제안 확인**
   - "다음 평가에서 30% 절감하려면..."

---

## 🚀 빠른 시작 가이드

### Step 1: 비용 대시보드 접속

```bash
# 개발 서버 실행
npm run dev

# 브라우저에서
http://localhost:5173

# 로그인 후
좌측 메뉴 → 💵 비용 대시보드 클릭
```

### Step 2: 현재 비용 확인

비용 대시보드에서 다음을 확인할 수 있습니다:

1. **총 비용** - 이번 달 전체 비용
2. **예산 현황** - 설정된 예산 대비 사용률
3. **비용 추이** - 일별 비용 차트
4. **제공사별 비용** - OpenAI vs Anthropic
5. **지표별 비용** - 어떤 지표가 비용이 많이 드는지

### Step 3: 예산 설정 (선택)

```
우측 상단 "⚙️ 예산 설정" 버튼 클릭

→ 예산 정보 입력
→ 알림 설정
→ 저장
```

### Step 4: 비용 최적화

"💡 비용 최적화 제안" 섹션에서 권장 사항을 확인하고 적용하세요.

---

## 📱 반응형 디자인

Cost Observability 기능은 **모든 화면 크기**에서 작동합니다:

- 📱 **모바일** (< 768px): 단일 열 레이아웃
- 💻 **태블릿** (768px - 1024px): 2열 레이아웃
- 🖥️ **데스크톱** (> 1024px): 4열 레이아웃

---

## 🎨 디자인 시스템

비용 대시보드는 REX의 **블루 디자인 시스템**을 따릅니다:

### 색상

```css
/* 메인 색상 */
--blue-primary: #3b82f6      /* 버튼, 강조 */
--blue-hover: #2563eb        /* 호버 상태 */
--blue-light: #dbeafe        /* 배경 */

/* 상태 색상 */
--green: #10b981              /* 정상, 절약 */
--orange: #f97316             /* 경고 */
--red: #dc2626                /* 위험, 한도 초과 */
--purple: #8b5cf6             /* 보조 강조 */

/* 차트 색상 */
--chart-blue: #3b82f6
--chart-purple: #8b5cf6
--chart-pink: #ec4899
--chart-orange: #f59e0b
--chart-green: #10b981
--chart-indigo: #6366f1
```

### 타이포그래피

```css
/* 제목 */
h1: 24px, font-bold
h2: 20px, font-bold
h3: 18px, font-semibold

/* 본문 */
body: 14px
small: 12px

/* 숫자 */
metrics: 24-32px, font-bold
```

---

## 🔧 프론트엔드 코드 구조

```
components/
├── CostDashboardPageBlue.tsx      [완료] 비용 대시보드 메인
├── DashboardPageBlue.tsx          [완료] 메인 대시보드 (비용 카드 추가)
├── NewEvaluationPageBlue.tsx      [예정] 비용 예측 추가
├── ResultsPageBlue.tsx            [예정] 실제 비용 표시 추가
└── ...

lib/
├── api-client.ts                  [완료] API 클라이언트
└── mock-data.ts                   [완료] Mock 데이터

types/
└── index.ts                       [완료] TypeScript 타입

App.tsx                            [완료] 라우팅 추가
```

---

## 📊 데이터 흐름

### 프론트엔드 → 백엔드

```
1. 비용 요약 조회
   Frontend: api.cost.getSummary({ period: 'month' })
   Backend: GET /api/v1/costs/summary?period=month
   Response: CostSummary

2. 비용 예측
   Frontend: api.cost.predictCost({ dataset_id, metrics })
   Backend: POST /api/v1/costs/predict
   Response: CostEstimate

3. 예산 생성
   Frontend: api.budget.create({ name, limit, period })
   Backend: POST /api/v1/budgets
   Response: Budget
```

### 백엔드 → 프론트엔드

```
1. 실시간 비용 업데이트 (WebSocket)
   Backend → Frontend: cost_update event
   { evaluation_id, current_cost, percentage }

2. 예산 알림 (WebSocket)
   Backend → Frontend: budget_alert event
   { budget_id, alert_type, percentage, message }

3. 평가 완료 후 비용
   Backend → Frontend: evaluation_completed event
   { evaluation_id, final_cost, breakdown }
```

---

## 🧪 테스트 가이드

### 1. Mock 데이터로 테스트

현재 모든 비용 기능은 Mock 데이터로 작동합니다:

```typescript
// lib/api-client.ts
const USE_MOCK_DATA = true;  // 개발 중에는 true

// Mock 데이터 예시
const mockCostSummary = {
  total_cost: 1847.32,
  total_evaluations: 45,
  cost_by_provider: [...],
  cost_by_metric: [...]
};
```

### 2. 백엔드 연결 테스트

백엔드 구현 후:

```bash
# 환경 변수 설정
VITE_API_BASE_URL=http://localhost:8000/api/v1
VITE_USE_MOCK_DATA=false

# 개발 서버 재시작
npm run dev
```

### 3. 시나리오 테스트

**시나리오 1: 비용 대시보드 로딩**
```
1. 로그인
2. 좌측 메뉴 → 비용 대시보드
3. 확인: 총 비용, 예산, 차트 표시
4. 확인: 최적화 제안 표시
```

**시나리오 2: 예산 알림**
```
1. 예산 설정 (한도: $100)
2. 평가 실행 (비용: $95)
3. 확인: 95% 알림 배너 표시
4. 확인: 이메일/Slack 알림 수신
```

**시나리오 3: 비용 예측**
```
1. 평가 시작 페이지
2. 데이터셋 선택 (150개)
3. 지표 선택 (6개)
4. 확인: 예상 비용 자동 계산
5. 확인: 예산 경고 (초과 시)
```

---

## 🐛 문제 해결

### Q1: 비용 대시보드 메뉴가 안 보여요

**A:** `AppLayout.tsx`에서 navigationItems 확인

```typescript
const navigationItems = [
  ...
  { id: 'costs', label: '비용 대시보드', icon: DollarSign },
];
```

### Q2: 비용 대시보드 클릭해도 안 열려요

**A:** `App.tsx`에서 라우팅 확인

```typescript
case 'costs':
  return <CostDashboardPageBlue onNavigate={handleNavigate} />;
```

### Q3: 대시보드에 비용 카드가 안 보여요

**A:** `DashboardPageBlue.tsx` 확인 - 5개 카드 grid 레이아웃

```typescript
<div className="grid gap-4 md:grid-cols-5">
  {/* ... */}
  {/* 5번째 카드 = 비용 */}
</div>
```

### Q4: API 호출이 실패해요

**A:** Mock 데이터 모드 확인

```typescript
// lib/api-client.ts
const USE_MOCK_DATA = true;  // 백엔드 없을 때는 true
```

---

## 🎯 다음 단계

### Phase 1: 프론트엔드 개선 (완료 ✅)

- [x] CostDashboardPageBlue 구현
- [x] DashboardPageBlue에 비용 카드 추가
- [x] AppLayout에 메뉴 추가
- [x] App.tsx 라우팅 추가

### Phase 2: API 연동 (진행 중 ⏳)

- [ ] 백엔드 API 구현
- [ ] PostgreSQL 스키마 생성
- [ ] API 클라이언트 연결
- [ ] Mock 데이터 → 실제 데이터 전환

### Phase 3: 추가 기능 (예정 📅)

- [ ] NewEvaluationPage에 비용 예측 추가
- [ ] ResultsPage에 실제 비용 표시
- [ ] WebSocket 실시간 업데이트
- [ ] 예산 알림 실시간 수신

---

## 📚 관련 문서

- [Cost Observability Guide](/guidelines/Cost-Observability-Guide.md) - 전체 개념
- [Cost Tracking Production Implementation](/guidelines/Cost-Tracking-Production-Implementation.md) - 백엔드 구현
- [API Specification](/guidelines/API-Specification.md) - API 명세
- [Frontend Integration Guide](/guidelines/Frontend-Integration-Guide.md) - 통합 가이드

---

## 🎉 요약

**Cost Observability는 3곳에서 확인할 수 있습니다:**

1. **대시보드** - 빠른 비용 요약 카드
2. **비용 대시보드** (좌측 메뉴 💵) - 전체 비용 관리
3. **평가 페이지** - 예측 비용 및 실제 비용

**모든 프론트엔드 코드가 구현 완료되었습니다!**  
백엔드 API만 연결하면 즉시 사용 가능합니다. 

---

**작성일:** 2025-10-13  
**버전:** 1.0.0  
**최종 업데이트:** 프론트엔드 완전 구현 완료
